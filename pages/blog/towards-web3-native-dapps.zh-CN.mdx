---
title: 迈向 Web3 原生 DApp
description: Web3 应用程序应该是去中心化的。然而，今天的 Web3 DApps 通常基于中心化架构。在本文中，我们讨论了我们对 Web3 原生应用程序的愿景
author: haichao
category: Web3
date: 2023/04/15
---

import PostHeader from "/components/blog/postHeader";

<PostHeader />

已经有十多个出色的 Web3 基础设施正在不断突破区块链技术的界限，并试图将我们的行业推向更接近 Web3 梦想的目标。

在本文中，你将了解我们对 Web3 的愿景。

## Web3 原生 DApp

**Web3 原生 DApp**（Web3 原生去中心化应用，即“Web3 Native DApp”）是指充分利用区块链技术提供的去中心化优势的 App。

> 形容词“Web3 Native”来自术语“[Cloud Native](https://www.oracle.com/cloud/cloud-native/what-is-cloud-native/)”。

下面是我们设想的 Web3 原生 Dapp 的架构，与我们称之为混合 Web3 应用程序的不太 Web3 的应用程序架构进行比较。

import Image from "next/image";

<Image
  src="/docs/web3-native-dapp.png"
  alt="Web3 原生应用"
  width={450}
  height={450}
  className="mx-auto my-8"
/>

Hybrid Web3 App 通常采用与 Web2 App 相同的架构，用户从前端向后端服务器发送请求，由服务器进行计算和存储。它与 Web2 应用的唯一区别是，在后端服务器中，由一个私钥“代表”用户在去中心化的区块链上操作代币。

相比之下，Web3 原生 DApp 没有集中控制用户资产的私钥。DApp 的后端完全在智能合约运行时实现，它是公开、透明、无需许可的，由智能合约定义的逻辑控制着从用户资产到 DApp 功能的一切。

## Web3 六问

这里有 6 个问题可以帮助你详细了解我们对 Web3 原生的愿景。

### 用户是否拥有他们的数据和状态？

大多数人谈论的 Web3 DApp 的第一个基本特征是数据所有权。但是拥有数据的价值是一个模糊的描述，所以我通常从2个角度去思考：数据归属和数据隐私。

- **数据归属**——用户发布的所有数据和用户在 DApp 内的行为引起的所有状态转换都应明确归属于用户
- **数据隐私**——用户可以选择只向指定方透露数据并可以更新数据可见性

数据的价值来自数据属性的交易和对交易中特定方的数据可见性。而在 Web3 时代，代币代表数据归属和可见性，它们的价值将在更加自由和无摩擦的市场中被发现。

在 Hybrid Web3 App 中，用户的数据被发布并记录在一个中心化的服务器中，这使得他们无法证明具有明确的归属。隐私也被篡改，因为后端是一个黑盒子，你不知道记录了什么，没有记录什么，更不用说你没有办法利用任何加密工具来隐藏你的关键信息。

然而，在 Web3 原生模型中，用户使用单个公钥标识，所有数据都存储在以公钥为密钥路径的状态树下，形成对用户的显式归属。除非使用相应的私钥签署交易并使用此交易触发预定义的合约逻辑，否则没有人能够更改它。后端是一个完全透明的环境，每个用户都可以看到记录了哪些用户行为。如果用户希望隐藏某些信息，他们可以使用零知识证明等工具来实现。

例如，游戏可以有去信任的自由市场，供玩家交易游戏内资产和制造独特的新资产。游戏内资产创建时，直接作为数据存储在用户地址下。它的制造方式是智能合约预定义的一段逻辑。用户可以自由地将此资产交易给其他人，任何人都无法窃取或破坏它，即使是游戏的第一个建造者也不行。

例如，UGC 平台可以建立在点对点网络中。所有的内容制作者都可以将内容保存在他们的本地服务器中，观众将访问这些服务器来访问内容。可以在生产者和观看者之间建立流媒体支付通道，用户下载每个字节的内容，他们支付一分钱的加密货币。内容本身可以加密以及用内容发布者的公钥加水印，以防止盗版行为。

### 治理能否做出实际改变？

除了用户发布的数据外，DApp 构建者定义的 DApp 的逻辑、规则和功能应该完全用智能合约实现，运行在可证明的智能合约运行时。DApp 的构建者应该能够通过定义一个可持续的治理机制，使其完全由社区驱动，将所有逻辑和功能的更新权赋予其用户。

使用混合 Web3 模型无法做到这一点，因为所有逻辑都硬编码在黑盒服务器中。并且即使 App 运营者想要公开，并愿意根据社区治理的投票结果进行更改，结果的执行也不会是用户信任的去信任过程。

在 Web3 原生模型中，所有组成 DApp 功能的智能合约都可以有明确的更新规则，治理可以更改或删除它们，以及开放 API，治理机制可以扩展其功能。治理机制应使用一组任何人都无法更改的智能合约来定义。治理结果基于对预先发布到智能合约环境的一些数据的投票。治理的结果将直接导致相关智能合约的升级，而无需任何中心化方的干预。

例如，通过让所有 DAO 成员集体从头开始构建它的所有功能，DApp 可以从 DAO 发展而来。这个 DApp 的每个功能组件都将由 DAO 治理直接决定。无隐藏功能。

例如，游戏的玩家可以设计和发起他们自己的冒险，供其他玩家享受。由于所有规则都经过治理审查和同意，因此可以确保这次冒险是公平和公正的。

### 资产是否通过信任或验证来保护？

拥有 DApp 的所有数据和功能的所有权是伟大的第一步，但能够在不信任但验证的情况下保留它们也是一个关键特征。

在 Hybrid Web3 模型中，数据、功能和资产的所有权完全掌握在服务器运营商（有时是云服务器提供商）手中。因此，相信 App 运营商是这里唯一的安全机制。

在 Web3 原生模型中，服务器运行一个可证明的智能合约环境，在这个环境中，操作代码的每一次执行以及对任何数据的每一次 CRUD 操作都是可证明的。例如，可以生成证明。任何人都可以通过将证明发送到区块链来获取证明来验证该服务器上发生的一切的完整性和正确性。区块链将提供验证结果，并作为法院根据证据进行仲裁。任何恶意行为，如拒绝提供证明或证明错误的证明，都将使该 DApp 一劳永逸地失去用户。

例如，在赌场游戏 DApp 中，随机性生成的过程可以证明是基于一组规则，这些规则实际上由去中心化的公共区块链保护。

### 它抗审查吗？

就像区块链系统一样，DApp 应该是去中心化的、无需许可的和分布式的，这样任何人都可以保留 Dapp 数据的副本。

在 Hybrid Web3 模型中，一切都包含在一个中心化的服务器中。一旦用户被服务器拒绝或服务器被其运营商关闭，用户将丢失所有数据以及该 DApp 中用户资产的价值。

在 Web3 原生模型中，DApp 的后端实际上是一个网络，网络中的每个节点都保存着所有最新数据的副本。因此，即使一些节点出现故障，DApp 仍然可以运行，用户永远不会失去他们的资产。

例如，一个关心游戏 DApp 的玩家可以保持运行一个节点来保留他们最新数据的副本。如果游戏建设者决定关闭，所有拥有节点的玩家仍然可以以游戏的最新状态进行游戏。

### 用户体验如何？

由于去中心化的性质，DApp 可能会面临系统性能方面的挑战，这可能会导致用户体验不佳。通常通过系统吞吐率（以 TPS 为单位）、存储容量、交易 Gas 费以及交易确认延迟来衡量性能。这些性能指标最终会影响最终用户体验。

Hybrid Web3 和 Web3 原生应用程序具有不同程度的去中心化。

就 Hybrid Web3 App 而言，所有资产（即代币）都在集中的链下环境中运行，主要依靠社会共识作为其信任机制。如果当局允许，这些代币可以提取到 Layer1 区块链。

对于 Web3 原生 DApp，资产完全在可证明的智能合约环境中运行，其信任机制基于去中心化的 Layer1 区块链。可证明意味着所有资产都可以从 DApp 中自由提取到 Layer1 中。

然而，尽管这两种架构的去中心化程度不同，但由于计算和存储都在链下完成，因此它们的系统性能大致相同。

## 构建 Web3 原生 DApp

作为开发人员，您可能会问我应该从哪里开始构建 Web3 原生 DApp。理想情况下，应该通过指出提供所有必要工具和环境的足够好的基础设施解决方案来回答这个问题。

这种基础设施的解决方案面临两个挑战：架构和编程语言。

### 解决方案架构

我们正在寻找的解决方案的架构是一个智能合约执行运行时，它可以生成要在第 1 层区块链上验证的证明。理想情况下，这个运行时应该充当 DApp 容器，允许构建者将他们的代码放入并立即剥离 DApp。它还必须与所有现有的 Web3 基础设施兼容，以便可以集成来自不同生态系统的所有资产。

[模块化区块链](https://celestia.org/learn/basics-of-modular-blockchains/modular-and-monolithic-blockchains/)架构的理念以及 [Optimistic Rollup](https://ethereum.org/en/developers/docs/scaling/optimistic-rollups/) 和 [ZK-Rollup](https://ethereum.org/en/developers/docs/scaling/zk-rollups/) 等 Layer2 解决方案为应对这一挑战提供了解决方案。

> 请随时单击链接以了解有关这些先进技术的详细信息。

### 智能合约编程语言

Web3 原生 DApps 的编程语言应该针对描述资产和组合功能进行优化，以便更好地实现基于数据所有权和治理的升级。除此之外，资产的安全性也应该是合约语言的优先设计目标。因此，找到灵活性和安全性之间的平衡是智能合约编程语言面临的主要挑战。

[Move 语言](https://github.com/move-language/move)是一种面向对象的编程语言。它旨在解决此平衡问题。

借助 Move，开发人员可以使用结构来定义任意类型的资产。资产也可以作为参数传递给函数，这样所有的资产都可以灵活地被不同的智能合约操作。同时，资产的创建、销毁和所有权都使用语言装饰明确定义，为 Move 语言定义的所有资产提供语言级别的安全性。

作为一种新的编程语言，Move 得到了不止一个社区和项目的推广。（请参阅 [Awesome-Move](https://awesome-move.com/#move-powered-blockchains) 以获取由 Move 驱动的区块链列表）这使其在未来成为一种非常流行的语言选择具有巨大的潜力。

Move Language 还内置了对合约可升级性和账户抽象等功能的支持，使 DApp 构建者更容易消除用户的痛点。

## 结论

在本文中，我们讨论了关于如何实现真正的 Web3 的 6 个关键问题。这是 **Hybrid Web3 DApp** 和 **Web3 Native DApp** 之间的背靠背比较，它们是否可以实现这些 Web3 功能。

<Image
  src="/docs/web3-comparsion.png"
  alt="Hello"
  width={700}
  height={500}
  className="mx-auto my-4"
/>

将这些功能作为最终目标，我们还讨论了为开发人员设计和构建 Web3 原生 DApp 构建基础架构解决方案需要什么。

在 Rooch 项目中，我们与其他先驱一起分享 Web3 的愿景，我们正在努力为所有 Web3 构建者提供最好的产品。

请随时[查看我们的文档](/docs/)以了解有关 Rooch 解决方案的更多详细信息。
