# 状态通道上的智能合约

当前的状态通道方案中，基本都只能实现通过状态通道支付。如果发明了新的资产协议，想在状态通道中应用，则需要重新设计状态通道的方案。如何实现一个通用的、可以执行智能合约的状态通道一直是个难题。

我们相信 Web3 的应用会主要以 P2P 上的协议出现，而在状态通道上运行通用的智能合约，可以简化 P2P 网络层的协议设计，比如计费协议，交换协议。

而得益于 Move 的智能合约状态模型，我们可以在状态通道上直接执行部署在 Layer1 中的应用合约。

比如链上有一个五子棋游戏的智能合约，两个用户可以为这个游戏创建一个专门的状态通道，在状态通道上下棋。游戏的状态实际上只保存在状态通道中，等游戏结束，双方清算，游戏的状态也会被丢弃掉（当然也可以备份在用户的设备中）。

状态通道上的应用的相关探索：

1. [Thor](https://github.com/starcoinorg/thor): 在闪电网络上实现基于 WASM 的智能合约引擎，通过第三方仲裁服务，玩家可以在闪电网络上进行五子棋游戏。
2. [Move 状态通道上的五子棋游戏](https://github.com/starcoinorg/stargate/tree/master/demo/Gobang)：一个 Move 状态通道的概念验证方案，实现了状态通道上双方五子棋游戏，游戏逻辑通过 Move 实现。